function initAnimations(){let e;window.addEventListener("scroll",function(){e||(e=setTimeout(function(){handleScrollAnimation(),e=null},10))})}function handleScrollAnimation(){let e=document.querySelectorAll(".fade-in:not(.visible), .scale-in:not(.visible)");e.forEach(e=>{let t=e.getBoundingClientRect().top,n=.85*window.innerHeight;t<n&&e.classList.add("visible")})}function updateCountdown(){let e=new Date("June 30, 2025 23:59:59").getTime(),t=new Date().getTime(),n=e-t,a=Math.floor(n/864e5),i=Math.floor(n%864e5/36e5),o=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3);updateCountdownElement("countdown-days",a<10?"0"+a:a),updateCountdownElement("countdown-hours",i<10?"0"+i:i),updateCountdownElement("countdown-minutes",o<10?"0"+o:o),updateCountdownElement("countdown-seconds",s<10?"0"+s:s)}function updateCountdownElement(e,t){let n=document.getElementById(e);n&&n.innerHTML!==t&&(n.classList.add("countdown-update"),n.innerHTML=t,setTimeout(()=>{n.classList.remove("countdown-update")},300))}function toggleFaq(e){let t=e.parentElement,n=t.querySelector(".faq-answer"),a=t.classList.contains("active");if(document.querySelectorAll(".faq-item.active").forEach(e=>{if(e!==t){let n=e.querySelector(".faq-answer");n.style.maxHeight=null,e.classList.remove("active")}}),a)n.style.maxHeight=null,t.classList.remove("active");else{t.classList.add("active");let i=n.querySelector(".faq-answer-inner").scrollHeight;n.style.maxHeight=i+"px"}}function initInteractivePanorama(){let e=document.getElementById("interactive-panorama-container"),t=document.getElementById("zoom-in-btn"),n=document.getElementById("zoom-out-btn"),a=document.getElementById("auto-rotate-btn"),i,o,s,r,l=!1,c=!0,d=0,u=0,$=0,p=0,m=0,v=0,f=0,h=0,g=e.clientWidth/2,y=e.clientHeight/2,L=0,E=0;function b(e){d=e.clientX-g,u=e.clientY-y,m=f+(d-$)*.002,v=Math.max(Math.min(v=h+(u-p)*.002,Math.PI/3),-Math.PI/3)}function _(){l=!1,document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",_,!1)}function w(e){1===e.touches.length&&(e.preventDefault(),d=e.touches[0].pageX-g,u=e.touches[0].pageY-y,m=f+(d-$)*.003,v=Math.max(Math.min(v=h+(u-p)*.003,Math.PI/3),-Math.PI/3))}function S(){document.removeEventListener("touchmove",w,{passive:!1}),document.removeEventListener("touchend",S,{passive:!1}),l=!1}function k(){let t=e.querySelector(".interaction-hint");t&&(t.style.opacity="0",t.classList.add("hidden"))}i=new THREE.Scene,(o=new THREE.PerspectiveCamera(70,e.clientWidth/e.clientHeight,.1,1e3)).position.set(0,0,.1),(s=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),s.setSize(e.clientWidth,e.clientHeight),e.appendChild(s.domElement),window.addEventListener("resize",function t(){g=e.clientWidth/2,y=e.clientHeight/2,o.aspect=e.clientWidth/e.clientHeight,o.updateProjectionMatrix(),s.setSize(e.clientWidth,e.clientHeight)},!1),function t(){let n=new THREE.SphereGeometry(500,60,40);n.scale(-1,1,1);let a=new THREE.TextureLoader;a.load("/assets/images/360/union.jpg",function(t){let a=new THREE.MeshBasicMaterial({map:t});r=new THREE.Mesh(n,a),i.add(r),e.classList.remove("loading"),function t(){let n=e.querySelector(".interaction-hint");n&&(n.style.opacity="1",n.classList.remove("hidden"))}()},function(t){e.classList.add("loading")},function(t){console.error("Error loading panorama:",t),e.classList.remove("loading")})}(),e.addEventListener("mousedown",function e(t){t.preventDefault(),l=!0,$=t.clientX-g,p=t.clientY-y,f=m,h=v,document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",_,!1),k()},!1),e.addEventListener("touchstart",function e(t){1===t.touches.length&&(t.preventDefault(),$=t.touches[0].pageX-g,p=t.touches[0].pageY-y,f=m,h=v,document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",S,{passive:!1}),k())},{passive:!1}),t&&t.addEventListener("click",function e(){o.fov=Math.max(30,o.fov-3),o.updateProjectionMatrix()},!1),n&&n.addEventListener("click",function e(){o.fov=Math.min(70,o.fov+3),o.updateProjectionMatrix()},!1),a&&a.addEventListener("click",function e(){c=!c,a&&(c?a.classList.add("active"):a.classList.remove("active"))},!1),function e(){requestAnimationFrame(e),c&&!l&&(m+=.001),o.position.x=100*Math.sin(L)*Math.cos(E),o.position.y=100*Math.sin(E),o.position.z=100*Math.cos(L)*Math.cos(E),L+=(m-L)*.5,E+=(v-E)*.5,E=Math.max(Math.min(E,Math.PI/3-.1),-Math.PI/3+.1),o.lookAt(0,0,0),s.render(i,o)}(),a&&c&&a.classList.add("active")}function initIsokariPanorama(){let e=document.getElementById("isokari-panorama-container"),t,n,a,i,o=!1,s=!0,r=0,l=0,c=0,d=0,u=0,p=0,m=0,h=0,g=e.clientWidth/2,y=e.clientHeight/2,L=0,E=0;function b(t){r=t.clientX-g,l=t.clientY-y,u=m+(r-c)*.002,p=Math.max(Math.min(p=h+(l-d)*.002,Math.PI/3),-Math.PI/3)}function _(){o=!1,document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",_,!1)}function w(t){1===t.touches.length&&(t.preventDefault(),r=t.touches[0].pageX-g,l=t.touches[0].pageY-y,u=m+(r-c)*.003,p=Math.max(Math.min(p=h+(l-d)*.003,Math.PI/3),-Math.PI/3))}function S(){document.removeEventListener("touchmove",w,{passive:!1}),document.removeEventListener("touchend",S,{passive:!1}),o=!1}function k(){let t=e.querySelector(".interaction-hint");t&&(t.style.opacity="0",t.classList.add("hidden"))}t=new THREE.Scene,(n=new THREE.PerspectiveCamera(70,e.clientWidth/e.clientHeight,.1,1e3)).position.set(0,0,.1),(a=new THREE.WebGLRenderer({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(e.clientWidth,e.clientHeight),e.appendChild(a.domElement),window.addEventListener("resize",function t(){g=e.clientWidth/2,y=e.clientHeight/2,n.aspect=e.clientWidth/e.clientHeight,n.updateProjectionMatrix(),a.setSize(e.clientWidth,e.clientHeight)},!1),function n(){let o=new THREE.SphereGeometry(500,60,40);o.scale(-1,1,1);let s=new THREE.TextureLoader;s.load("https://assets.360.petsq.works/isokari/island_04.jpg",function(s){let r=new THREE.MeshBasicMaterial({map:s});i=new THREE.Mesh(o,r),t.add(i),e.classList.remove("loading"),function t(){let n=e.querySelector(".interaction-hint");n&&(n.style.opacity="1",n.classList.remove("hidden"))}()},function(t){e.classList.add("loading")},function(t){console.error("Error loading Isokari panorama:",t),e.classList.remove("loading")})}(),e.addEventListener("mousedown",function e(t){t.preventDefault(),o=!0,c=t.clientX-g,d=t.clientY-y,m=u,h=p,document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",_,!1),k()},!1),e.addEventListener("touchstart",function e(t){1===t.touches.length&&(t.preventDefault(),c=t.touches[0].pageX-g,d=t.touches[0].pageY-y,m=u,h=p,document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",S,{passive:!1}),k())},{passive:!1}),function e(){requestAnimationFrame(e),s&&!o&&(u+=.001),n.position.x=100*Math.sin(L)*Math.cos(E),n.position.y=100*Math.sin(E),n.position.z=100*Math.cos(L)*Math.cos(E),L+=(u-L)*.5,E+=(p-E)*.5,E=Math.max(Math.min(E,Math.PI/3-.1),-Math.PI/3+.1),n.lookAt(0,0,0),a.render(t,n)}()}function initMobileEnhancements(){enhanceMobileButtonInteraction(),addMobileInteractionStyles(),storeReferencesToObjects()}function enhanceMobileButtonInteraction(){let e=document.getElementById("zoom-in-btn"),t=document.getElementById("zoom-out-btn"),n=document.getElementById("auto-rotate-btn");function a(e,t){e&&(e.addEventListener("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(),this.classList.add("button-active"),setTimeout(()=>{this.classList.remove("button-active")},200)},{passive:!1}),e.addEventListener("mousedown",function(){this.classList.add("active-btn")}),e.addEventListener("mouseup",function(){setTimeout(()=>{this.classList.remove("active-btn")},100)}),e.addEventListener("mouseleave",function(){this.classList.remove("active-btn")}))}e&&a(e,function(){e.click()}),t&&a(t,function(){t.click()}),n&&a(n,function(){n.click()})}function addMobileInteractionStyles(){let e=document.createElement("style");e.textContent=`
        /* Increase touch target size */
        .panorama-control-button {
            min-width: 44px !important;
            min-height: 44px !important;
            /* Important to override any existing styles */
        }
        
        /* Add active state for touch feedback */
        .button-active,
        .panorama-control-button:active,
        .panorama-control-button.active-btn {
            transform: scale(0.95) !important;
            background-color: rgba(255, 223, 77, 0.4) !important;
            border-color: rgba(255, 223, 77, 0.8) !important;
            transition: all 0.1s ease;
        }
        
        /* Make sure controls are above other elements */
        .panorama-controls {
            z-index: 100 !important;
            pointer-events: auto !important;
        }
        
        /* Ensure buttons receive events */
        .panorama-control-button {
            pointer-events: auto !important;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Fix for iOS issues */
        @supports (-webkit-touch-callout: none) {
            .panorama-control-button {
                -webkit-tap-highlight-color: rgba(255, 223, 77, 0.3);
            }
        }
    `,document.head.appendChild(e)}function storeReferencesToObjects(){setTimeout(function(){let e=document.getElementById("interactive-panorama-container");e&&e.querySelector("canvas")&&console.log("Objects references stored for mobile interactions")},2e3)}function initHoverEffects(){let e=document.querySelectorAll(".package");e.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transition="transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"})});let t=document.querySelectorAll(".cta-button, .header-cta");t.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transition="all 0.3s ease",this.style.boxShadow="0 0 10px rgba(255, 255, 255, 0.15)",this.style.transform="none"}),e.addEventListener("mouseleave",function(){this.style.boxShadow="0 4px 30px rgba(0, 0, 0, 0.1)"})})}function initHeaderScroll(){function e(){let e=document.getElementById("site-header"),t=document.querySelector(".hero-logo"),n=window.scrollY,a=this.lastScrollTop||0;n>100?(n>a?(e.style.transform="translateY(0)",e.style.transition="opacity 0.4s ease, transform 0.4s ease, background-color 0.4s ease"):(e.style.transform="translateY(0)",e.style.transition="opacity 0.25s ease, transform 0.25s ease, background-color 0.25s ease"),e.style.backgroundColor="rgba(5, 5, 5, 0.9)",e.style.backdropFilter="blur(5px)",e.style.boxShadow="0 2px 10px rgba(0, 0, 0, 0.5)",e.style.borderBottom="1px solid rgba(239, 89, 0, 0.1)",e.style.opacity="1",e.style.visibility="visible",t&&(t.style.opacity=Math.max(0,1-n/300))):(e.style.backgroundColor="transparent",e.style.backdropFilter="none",e.style.boxShadow="none",e.style.borderBottom="none",e.style.opacity="0",e.style.visibility="hidden",e.style.transform="translateY(-5px)",t&&(t.style.opacity=1)),this.lastScrollTop=n}window.addEventListener("scroll",e),e()}function initPageAnimations(){let e=document.querySelectorAll(".fade-in, .scale-in"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -100px 0px"});e.forEach(e=>{t.observe(e)});let n=document.querySelector(".hero");n&&(n.addEventListener("click",function(){n.classList.add("text-visible")}),window.addEventListener("scroll",function(){window.scrollY>10&&n.classList.add("text-visible")},{once:!0}))}function setupPanorama(e,t){let n=document.getElementById(e);if(!n)return;let a=new THREE.Scene,i=new THREE.PerspectiveCamera("founder-panorama-container"===e?35:75,16/9,.1,1e3),o=new THREE.WebGLRenderer({alpha:!0,antialias:!0,preserveDrawingBuffer:!0});o.setSize(n.clientWidth,n.clientHeight),o.setPixelRatio(window.devicePixelRatio),n.appendChild(o.domElement);let s=new THREE.SphereGeometry(500,60,40);s.scale(-1,1,1);let r=new THREE.TextureLoader;r.load(t,function(t){if("founder-panorama-container"===e){t.minFilter=THREE.LinearFilter,t.generateMipmaps=!1,t.anisotropy=o.capabilities.getMaxAnisotropy(),t.magFilter=THREE.LinearFilter;let n=new THREE.MeshBasicMaterial({map:t,opacity:.6,transparent:!0}),r=new THREE.Mesh(s,n);a.add(r)}else{t.minFilter=THREE.LinearFilter,t.magFilter=THREE.LinearFilter;let c=new THREE.MeshBasicMaterial({map:t}),d=new THREE.Mesh(s,c);a.add(d)}!function e(){requestAnimationFrame(e),l+=3e-4,i.rotation.y=l,o.render(a,i)}()},null,function(e){console.error("Error loading panorama texture:",e)});let l=0;function c(){let e=n.clientWidth,t=n.clientHeight;i.aspect=e/t,i.updateProjectionMatrix(),o.setSize(e,t)}window.addEventListener("resize",c),c()}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".hero"),t=document.getElementById("hero-logo-container"),n=document.getElementById("hero-content-container"),a=document.querySelector(".hero-cta");document.querySelector(".hero-background");let i=document.querySelector(".industries");if(e&&t&&n){let o=!1,s=!1,r,l=!1;function c(t=!1){!o&&l&&(o=!0,e.classList.add("text-visible"),clearTimeout(r),s=t)}function d(e){o&&l||(e.preventDefault(),c(!1),setTimeout(function(){s=!0},800))}window.addEventListener("load",function(){setTimeout(function(){l=!0},1500)}),e.addEventListener("click",function(){c(!0)}),window.addEventListener("wheel",d,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1}),window.addEventListener("wheel",function(e){(!o||s)&&l||e.preventDefault()},{passive:!1}),window.addEventListener("touchmove",function(e){(!o||s)&&l||e.preventDefault()},{passive:!1}),window.addEventListener("keydown",function(e){(" "===e.key||"Enter"===e.key)&&!o&&l&&c(!0)}),a&&i&&a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),s=!0,!o&&l&&c(!0),setTimeout(function(){i.scrollIntoView({behavior:"smooth"})},100)})}}),window.toggleFaq=toggleFaq,document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("email-form"),t=document.getElementById("thank-you");"#thank-you"===window.location.hash&&e&&t&&(e.style.display="none",t.style.display="block"),e&&e.addEventListener("submit",function(n){n.preventDefault();let a=new FormData(e);fetch(e.action,{method:"POST",body:a,headers:{Accept:"application/json"}}).then(n=>{n.ok?(e.style.display="none",t.style.display="block",e.reset()):alert("Something went wrong. Please try again.")}).catch(e=>{console.error("Error:",e),alert("Something went wrong. Please try again.")})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".industry-card"),t=null;e.forEach(e=>{e.addEventListener("click",function(){this===t?(this.classList.toggle("active"),this.classList.contains("active")||(t=null)):(t&&t.classList.remove("active"),setTimeout(()=>{this.classList.add("active"),t=this},10))})})}),document.addEventListener("DOMContentLoaded",function(){document.getElementById("interactive-panorama-container")&&initInteractivePanorama(),document.getElementById("isokari-panorama-container")&&initIsokariPanorama(),initMobileEnhancements()}),document.addEventListener("DOMContentLoaded",function(){[{id:"panorama-container",image:"/assets/images/360/union.jpg"},{id:"experience-panorama-container",image:"/assets/images/360/lapland.jpg"},{id:"results-panorama-container",image:"/assets/images/360/rotterdam.jpg"},{id:"pre-launch-panorama-container",image:"/assets/images/360/kubus.jpg"},{id:"founder-panorama-container",image:"/assets/images/360/lahti.jpg"},{id:"isokari-panorama-container",image:"https://assets.360.petsq.works/isokari/island_04.jpg"}].forEach(e=>setupPanorama(e.id,e.image)),initAnimations(),initHeaderScroll(),updateCountdown(),setInterval(updateCountdown,1e3),initHoverEffects(),setTimeout(handleScrollAnimation,100),setTimeout(function(){document.querySelectorAll(".hero-content > *").forEach(e=>e.classList.add("visible"))},300)}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".logos-slide"),t=document.querySelectorAll(".client-logo");if(!e||0===t.length)return;let n=window.matchMedia("(hover: none) and (pointer: coarse)").matches;if(n){e.style.animationPlayState="running";return}let a=0;t.forEach(t=>{t.addEventListener("mouseenter",()=>{a++,e.style.animationPlayState="paused"}),t.addEventListener("mouseleave",()=>{0===(a=Math.max(0,a-1))&&(e.style.animationPlayState="running")})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("page-preloader"),t=document.querySelector(".hero-background");document.querySelector(".hero");let n=document.querySelector(".logo-container");n&&n.offsetWidth,setTimeout(function(){t&&t.classList.add("visible"),e&&e.classList.add("fade-out"),setTimeout(function(){document.body.classList.add("content-loaded"),initPageAnimations()},1500)},1e3)}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".case-video");function t(e){e._state.playingOrAttempting=!0;let t=e.play();void 0!==t&&t.then(()=>{console.log("Video playback started")}).catch(t=>{console.log("Playback failed:",t.message),e._state.playingOrAttempting=!1})}e.forEach(e=>{e.muted=!0,e.setAttribute("playsinline",""),e._state={playingOrAttempting:!1,inViewport:!1},e.load();let n=new IntersectionObserver(n=>{let a=n[0],i=e._state.inViewport;e._state.inViewport=a.isIntersecting,e._state.inViewport&&!i?e._state.playingOrAttempting||t(e):!e._state.inViewport&&i&&(e.pause(),e._state.playingOrAttempting=!1)},{threshold:.1});n.observe(e),function e(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}(e)&&(e._state.inViewport=!0,t(e));let a=e.closest(".case-study-image");a&&a.addEventListener("click",function(n){"A"!==n.target.tagName&&e.paused&&(n.preventDefault(),n.stopPropagation(),t(e))})})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".header-right");(function t(){if(e&&!e.querySelector(".hamburger-menu")){let n=e.querySelector(".header-cta");n&&n.remove();let a=document.createElement("button");a.classList.add("hamburger-menu"),a.innerHTML=`
                <span></span>
                <span></span>
                <span></span>
            `,e.appendChild(a)}})(),function e(){if(document.querySelector(".site-navigation"))return;let t=window.location.pathname.includes("/nl"),n=t?{home:"home",useCases:"toepassingen",references:"klanten",process:"proces",pricing:"prijzen",faq:"faq",contact:"contact",offer:"30% korting tot 30 Juni"}:{home:"home",useCases:"use cases",references:"references",process:"process",pricing:"pricing",faq:"faq",contact:"contact",offer:"30% off until 30th June"},a=`
            <nav class="site-navigation">
                <div class="navigation-overlay"></div>
                <div class="navigation-content">
                    <ul class="nav-menu">
                        <li><a href="#home" class="nav-link">${n.home}</a></li>
                        <li><a href="#use-cases" class="nav-link">${n.useCases}</a></li>
                        <li><a href="#references" class="nav-link">${n.references}</a></li>
                        <li><a href="#process" class="nav-link">${n.process}</a></li>
                        <li><a href="#packages" class="nav-link">${n.pricing}</a></li>
                        <li><a href="#faq" class="nav-link">${n.faq}</a></li>
                        <li><a href="#contact" class="nav-link">${n.contact}</a></li>
                    </ul>
                    <div class="nav-cta-section">
                        <div class="nav-special-offer">
                            <span>${n.offer}</span>
                        </div>
                    </div>
                </div>
            </nav>
        `;document.body.insertAdjacentHTML("beforeend",a)}(),function e(){let t=document.querySelector(".hamburger-menu"),n=document.querySelector(".site-navigation"),a=document.querySelectorAll(".nav-link");function i(){n.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""}t&&t.addEventListener("click",function e(){n.classList.toggle("open"),t.classList.toggle("open"),n.classList.contains("open")?document.body.style.overflow="hidden":document.body.style.overflow=""});let o=document.querySelector(".navigation-overlay");o&&o.addEventListener("click",i),a.forEach(e=>{e.addEventListener("click",function(e){i()})})}()}),window.setupPanorama=setupPanorama;